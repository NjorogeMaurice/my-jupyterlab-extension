{"version":3,"file":"lib_index_js.618ec333a461023a430e.js","mappings":";;;;;;;;;;;;;;;;;AAMsD;AAEb;AAEc;AAGvD;;GAEG;AACH,MAAM,MAAM,GAAgC;IAC1C,EAAE,EAAE,uBAAuB;IAC3B,WAAW,EAAE,yBAAyB;IACtC,SAAS,EAAE,IAAI;IACf,QAAQ,EAAE,CAAC,iEAAe,CAAC;IAC3B,QAAQ,EAAE,CAAC,GAAoB,EAAE,OAAwB,EAAE,EAAE;QAC3D,OAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;QAElD,oCAAoC;QACpC,oCAAoC;QACpC,4BAA4B;QAC5B,gEAAgE;QAChE,kCAAkC;QAClC,oDAAoD;QACpD,sCAAsC;QACtC,mFAAmF;QACnF,kCAAkC;QAElC,wCAAwC;QACxC,kDAAkD;QAClD,2EAA2E;QAC3E,oCAAoC;QACpC,sCAAsC;QACtC,wCAAwC;QACxC,mCAAmC;QACnC,8EAA8E;QAC9E,4EAA4E;QAE5E,0CAA0C;QAC1C,sCAAsC;QAEtC,wCAAwC;QACxC,mDAAmD;QACnD,8CAA8C;QAC9C,kCAAkC;QAClC,mCAAmC;QACnC,0EAA0E;QAC1E,mEAAmE;QACnE,wCAAwC;QACxC,yDAAyD;QACzD,wCAAwC;QAExC,wDAAwD;QACxD,uCAAuC;QAEvC,0DAA0D;QAC1D,gDAAgD;QAChD,cAAc;QACd,mDAAmD;QACnD,4EAA4E;QAE5E,yDAAyD;QACzD,6BAA6B;QAC7B,uDAAuD;QAEvD,iGAAiG;QACjG,oGAAoG;QAEpG,oEAAoE;QACpE,iGAAiG;QACjG,oCAAoC;QACpC,iDAAiD;QAEjD,sEAAsE;QAEtE,yEAAyE;QACzE,iDAAiD;QACjD,iEAAiE;QACjE,+CAA+C;QAC/C,kFAAkF;QAClF,8EAA8E;QAC9E,mFAAmF;QACnF,gFAAgF;QAEhF,gGAAgG;QAChG,kDAAkD;QAClD,wBAAwB;QACxB,mEAAmE;QACnE,sGAAsG;QACtG,oEAAoE;QAEpE,4CAA4C;QAC5C,mEAAmE;QACnE,mFAAmF;QACnF,mDAAmD;QACnD,qDAAqD;QACrD,qDAAqD;QACrD,oDAAoD;QAEpD,0EAA0E;QAC1E,uCAAuC;QACvC,sDAAsD;QACtD,8BAA8B;QAC9B,kCAAkC;QAClC,mEAAmE;QACnE,oBAAoB;QACpB,mBAAmB;QAEnB,2DAA2D;QAC3D,yDAAyD;QACzD,kBAAkB;QAElB,sDAAsD;QACtD,0DAA0D;QAC1D,cAAc;QACd,mBAAmB;QACnB,mDAAmD;QACnD,kCAAkC;QAClC,+CAA+C;QAC/C,YAAY;QACZ,0BAA0B;QAC1B,wDAAwD;QACxD,gCAAgC;QAChC,6CAA6C;QAC7C,UAAU;QACV,SAAS;QAGT,kCAAkC;QAClC,2BAA2B;QAG3B,mBAAmB;QACnB,IAAI;QACJ,MAAM,SAAS,GAAG,GAAG,EAAE;YACrB,2DAA2D;YAC3D,MAAM,OAAO,GAAG,IAAI,mDAAM,EAAE,CAAC;YAC7B,MAAM,MAAM,GAAG,IAAI,gEAAc,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;YAC/C,MAAM,CAAC,EAAE,GAAG,oBAAoB,CAAC;YACjC,MAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;YAE7B,mCAAmC;YACnC,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC7C,MAAM,CAAC,WAAW,GAAG,uBAAuB,CAAC,CAAE,uBAAuB;YACtE,MAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;YAC/B,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC;YACjC,MAAM,CAAC,KAAK,CAAC,YAAY,GAAG,MAAM,CAAC;YACnC,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YAC9B,MAAM,CAAC,KAAK,CAAC,eAAe,GAAG,SAAS,CAAC,CAAE,8BAA8B;YACzE,MAAM,CAAC,KAAK,CAAC,YAAY,GAAG,gBAAgB,CAAC,CAAC,yBAAyB;YACvE,MAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC,CAAC,uDAAuD;YAE3F,qCAAqC;YACrC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YAEjC,yBAAyB;YACzB,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACtD,YAAY,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC,cAAc;YAC5C,YAAY,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;YACzC,YAAY,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC;YAChC,YAAY,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;YAClC,YAAY,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;YACrC,YAAY,CAAC,KAAK,CAAC,eAAe,GAAG,aAAa,CAAC;YACnD,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;YACnC,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;YACtC,YAAY,CAAC,KAAK,GAAG,aAAa,CAAC,CAAC,mBAAmB;YAEvD,sCAAsC;YACtC,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YAEjC,mCAAmC;YACnC,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC9C,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;YACzC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;YAC7B,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;YAC9B,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,mBAAmB,CAAC,CAAE,wBAAwB;YACrE,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,mBAAmB,CAAC,CAAC,eAAe;YAC9D,OAAO,CAAC,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC;YACnC,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,yBAAyB,CAAC;YACpD,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,WAAW,CAAC;YAEnC,mDAAmD;YACnD,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;YAElC,mDAAmD;YACnD,MAAM,mBAAmB,GAAG,KAAK,IAAI,EAAE;gBACrC,IAAI;oBACF,yDAAyD;oBACzD,IAAI,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;wBAClC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;qBACnC;oBAED,sCAAsC;oBACtC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;oBAElC,6CAA6C;oBAC7C,MAAM,wBAAwB,GAAG,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC;oBACnF,IAAI,wBAAwB,EAAE;wBAC5B,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,wBAAwB,CAAC,CAAC;qBACpD;oBAED,wCAAwC;oBACxC,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,wCAAwC,CAAC,CAAC;oBAEvE,8CAA8C;oBAC9C,IAAI,QAAQ,CAAC,EAAE,EAAE;wBACf,MAAM,WAAW,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;wBAE1C,MAAM,MAAM,GAAG,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,8CAA8C;wBACpF,MAAM,IAAI,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC,CAAI,kDAAkD;wBAEvF,uDAAuD;wBACvD,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,MAAM,KAAK,IAAI,CAAC,MAAM,EAAE;4BACjF,qBAAqB;4BACrB,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;4BAElC,MAAM,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;4BACvD,gBAAgB,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,oCAAoC;4BAE1F,0DAA0D;4BAC1D,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE;gCAC9B,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gCAChD,SAAS,CAAC,WAAW,GAAG,KAAK,CAAC;gCAC9B,SAAS,CAAC,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC,CAAE,0BAA0B;gCACjE,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAK,sBAAsB;gCAC7D,SAAS,CAAC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC,CAAK,2BAA2B;gCAChE,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC,CAAG,yBAAyB;gCAC/D,SAAS,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC,CAAE,0BAA0B;gCACjE,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC,CAAC,yBAAyB;gCAEhE,8CAA8C;gCAC9C,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;gCACjD,SAAS,CAAC,WAAW,GAAG,GAAG,CAAC;gCAC5B,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;gCACtC,SAAS,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;gCAC/B,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;gCAEnC,2BAA2B;gCAC3B,SAAS,CAAC,OAAO,GAAG,KAAK,IAAI,EAAE;oCAC7B,IAAI;wCACF,8CAA8C;wCAC9C,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAE,iDAAiD;wCACjF,MAAM,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;wCAE/C,uBAAuB;wCACvB,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;wCAC9C,OAAO,CAAC,WAAW,GAAG,4BAA4B,SAAS,EAAE,CAAC;wCAC9D,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC;wCAC9B,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;wCAChC,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC;wCAChC,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;wCAE/B,qDAAqD;wCACrD,UAAU,CAAC,GAAG,EAAE;4CACd,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;wCACjC,CAAC,EAAE,IAAI,CAAC,CAAC;qCACV;oCAAC,OAAO,GAAG,EAAE;wCACZ,OAAO,CAAC,KAAK,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC;qCAC/C;gCACH,CAAC,CAAC;gCAEF,+EAA+E;gCAC/E,SAAS,CAAC,OAAO,GAAG,KAAK,IAAI,EAAE;oCAC7B,IAAI;wCACF,8CAA8C;wCAC9C,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAE,iDAAiD;wCACjF,MAAM,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;wCAE/C,uBAAuB;wCACvB,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;wCAC9C,OAAO,CAAC,WAAW,GAAG,4BAA4B,SAAS,EAAE,CAAC;wCAC9D,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC;wCAC9B,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;wCAChC,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC;wCAChC,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;wCAE/B,qDAAqD;wCACrD,UAAU,CAAC,GAAG,EAAE;4CACd,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;wCACjC,CAAC,EAAE,IAAI,CAAC,CAAC;qCACV;oCAAC,OAAO,GAAG,EAAE;wCACZ,OAAO,CAAC,KAAK,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC;qCAC/C;gCACH,CAAC,CAAC;gCAEF,oDAAoD;gCACpD,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;gCACjC,gBAAgB,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;4BAC1C,CAAC,CAAC,CAAC;4BAEH,uCAAuC;4BACvC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;yBAC5C;qBACF;yBAAM;wBACL,OAAO,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;wBACtC,qBAAqB;wBACrB,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;qBACnC;iBACF;gBAAC,OAAO,KAAK,EAAE;oBACd,OAAO,CAAC,KAAK,CAAC,sBAAsB,EAAE,KAAK,CAAC,CAAC;oBAC7C,qBAAqB;oBACrB,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;iBACnC;YACH,CAAC,CAAC;YAEF,yCAAyC;YACzC,mBAAmB,EAAE,CAAC;YAEtB,gDAAgD;YAChD,YAAY,CAAC,OAAO,GAAG,GAAG,EAAE;gBAC1B,mBAAmB,EAAE,CAAC,CAAC,qBAAqB;YAC9C,CAAC,CAAC;YAEF,OAAO,MAAM,CAAC;QAChB,CAAC,CAAC;QAIF,2FAA2F;QAC3F,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC9C,KAAK,CAAC,SAAS,GAAG;;;;;KAKjB,CAAC;QACF,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAEjC,IAAI,MAAM,GAAG,SAAS,EAAE,CAAC;QACzB,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAE9B,6BAA6B;QAC7B,MAAM,OAAO,GAAW,WAAW,CAAC;QACpC,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,OAAO,EAAE;YAC/B,KAAK,EAAE,wBAAwB;YAC/B,OAAO,EAAE,GAAG,EAAE;gBACZ,oCAAoC;gBACpC,IAAI,MAAM,CAAC,UAAU,EAAE;oBACrB,MAAM,GAAG,SAAS,EAAE,CAAC;iBACtB;gBACD,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;oBACtB,4DAA4D;oBAC5D,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;iBAC/B;gBACD,sBAAsB;gBACtB,GAAG,CAAC,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACpC,CAAC;SACF,CAAC,CAAC;QAEH,kCAAkC;QAClC,OAAO,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,CAAC,CAAC;IACrD,CAAC;CACF,CAAC;AAEF,iEAAe,MAAM,EAAC","sources":["webpack://fetchextension/./src/index.ts"],"sourcesContent":["import {\n  JupyterFrontEnd,\n  JupyterFrontEndPlugin\n} from '@jupyterlab/application';\n\n\nimport { MainAreaWidget } from '@jupyterlab/apputils';\n\nimport { Widget } from '@lumino/widgets';\n\nimport { ICommandPalette } from '@jupyterlab/apputils';\n\n\n/**\n * Initialization data for the fetchextension extension.\n */\nconst plugin: JupyterFrontEndPlugin<void> = {\n  id: 'fetchextension:plugin',\n  description: 'A JupyterLab extension.',\n  autoStart: true,\n  requires: [ICommandPalette],\n  activate: (app: JupyterFrontEnd, palette: ICommandPalette) => {\n    console.log('JupyterLab extension is activated!');\n\n    // Define a widget creator function,\n    // then call it to make a new widget\n    // const newWidget = () => {\n    //   // Create a blank content widget inside of a MainAreaWidget\n    //   const content = new Widget();\n    //   const widget = new MainAreaWidget({ content });\n    //   widget.id = 'catalog-jupyterlab';\n    //   // widget.title.iconClass = 'fa fa-database'; // Or any other valid icon class\n    //   widget.title.closable = true;\n\n    //   // Create a header div and style it\n    //   const header = document.createElement('div');\n    //   header.textContent = 'Data Catalog Datasets';  // Set your header text\n    //   header.style.fontSize = '20px';\n    //   header.style.fontWeight = 'bold';\n    //   header.style.marginBottom = '10px';\n    //   header.style.padding = '10px';\n    //   header.style.backgroundColor = '#f1f1f1';  // Background color for header\n    //   header.style.borderBottom = '2px solid #ccc'; // Optional bottom border\n\n    //   // Add the header to the content node\n    //   content.node.appendChild(header);\n\n    //   // Create a loading spinner element\n    //   const spinner = document.createElement('div');\n    //   spinner.classList.add('loading-spinner');\n    //   spinner.style.width = '50px';\n    //   spinner.style.height = '50px';\n    //   spinner.style.border = '6px solid #f3f3f3';  // Light gray background\n    //   spinner.style.borderTop = '6px solid #3498db'; // Blue spinner\n    //   spinner.style.borderRadius = '50%';\n    //   spinner.style.animation = 'spin 1s linear infinite';\n    //   spinner.style.margin = '20px auto';\n\n    //   // Append the spinner to the content node initially\n    //   content.node.appendChild(spinner);\n      \n    //     // Function to fetch URLs from API and display them\n    //     const fetchAndDisplayUrls = async () => {\n    //       try {\n    //         // Replace with your actual API endpoint\n    //         const response = await fetch('http://localhost:2212/fetch_dkan');\n            \n    //         // Ensure response is valid and parse the JSON\n    //         if (response.ok) {\n    //           const apiresponse = await response.json();\n        \n    //           const titles = apiresponse['titles']; // Assuming this is an array of dataset titles\n    //           const urls = apiresponse['urls'];    // Assuming this is an array of corresponding URLs\n        \n    //           // Check if the data is arrays and have the same length\n    //           if (Array.isArray(titles) && Array.isArray(urls) && titles.length === urls.length) {\n    //             // Remove the spinner\n    //             content.node.removeChild(spinner);\n        \n    //             const urlListContainer = document.createElement('div');\n        \n    //             // Loop through each title and create a div for each title\n    //             titles.forEach((title, index) => {\n    //               const titleItem = document.createElement('div');\n    //               titleItem.textContent = title;\n    //               titleItem.style.marginBottom = '8px';  // Add space between items\n    //               titleItem.style.fontSize = '16px';     // Customize font size\n    //               titleItem.style.color = '#007bff';     // Set color for the titles\n    //               titleItem.style.cursor = 'pointer';   // Make it look clickable\n                  \n    //               // On click, copy the corresponding URL to clipboard and show a success message\n    //               titleItem.onclick = async () => {\n    //                 try {\n    //                   // Copy the corresponding URL to the clipboard\n    //                   const urlToCopy = urls[index];  // Get the URL corresponding to the clicked title\n    //                   await navigator.clipboard.writeText(urlToCopy);\n                      \n    //                   // Show success message\n    //                   const message = document.createElement('div');\n    //                   message.textContent = `URL copied to clipboard: ${urlToCopy}`;\n    //                   message.style.color = 'green';\n    //                   message.style.fontSize = '14px';\n    //                   message.style.marginTop = '5px';\n    //                   titleItem.appendChild(message);\n                      \n    //                   // Optionally, remove the message after a few seconds\n    //                   setTimeout(() => {\n    //                     titleItem.removeChild(message);\n    //                   }, 3000);\n    //                 } catch (err) {\n    //                   console.error('Failed to copy the URL:', err);\n    //                 }\n    //               };\n        \n    //               // Append each title item to the container\n    //               urlListContainer.appendChild(titleItem);\n    //             });\n        \n    //             // Add the URL list to the content node\n    //             content.node.appendChild(urlListContainer);\n    //           }\n    //         } else {\n    //           console.error('Failed to fetch URLs');\n    //           // Remove the spinner\n    //           content.node.removeChild(spinner);\n    //         }\n    //       } catch (error) {\n    //         console.error('Error fetching data:', error);\n    //         // Remove the spinner\n    //         content.node.removeChild(spinner);\n    //       }\n    //     };\n        \n        \n    //   // Call the API to fetch URLs\n    //   fetchAndDisplayUrls();\n\n\n    //   return widget;\n    // }\n    const newWidget = () => {\n      // Create a blank content widget inside of a MainAreaWidget\n      const content = new Widget();\n      const widget = new MainAreaWidget({ content });\n      widget.id = 'catalog-jupyterlab';\n      widget.title.closable = true;\n    \n      // Create a header div and style it\n      const header = document.createElement('div');\n      header.textContent = 'Data Catalog Datasets';  // Set your header text\n      header.style.fontSize = '20px';\n      header.style.fontWeight = 'bold';\n      header.style.marginBottom = '10px';\n      header.style.padding = '10px';\n      header.style.backgroundColor = '#f1f1f1';  // Background color for header\n      header.style.borderBottom = '2px solid #ccc'; // Optional bottom border\n      header.style.position = 'relative'; // Make header position relative to place reload button\n    \n      // Add the header to the content node\n      content.node.appendChild(header);\n    \n      // Create a reload button\n      const reloadButton = document.createElement('button');\n      reloadButton.innerHTML = '↻'; // Reload icon\n      reloadButton.style.position = 'absolute';\n      reloadButton.style.top = '10px';\n      reloadButton.style.right = '10px';\n      reloadButton.style.fontSize = '18px';\n      reloadButton.style.backgroundColor = 'transparent';\n      reloadButton.style.border = 'none';\n      reloadButton.style.cursor = 'pointer';\n      reloadButton.title = 'Reload Data'; // Tooltip on hover\n    \n      // Add the reload button to the header\n      header.appendChild(reloadButton);\n    \n      // Create a loading spinner element\n      const spinner = document.createElement('div');\n      spinner.classList.add('loading-spinner');\n      spinner.style.width = '50px';\n      spinner.style.height = '50px';\n      spinner.style.border = '6px solid #f3f3f3';  // Light gray background\n      spinner.style.borderTop = '6px solid #3498db'; // Blue spinner\n      spinner.style.borderRadius = '50%';\n      spinner.style.animation = 'spin 1s linear infinite';\n      spinner.style.margin = '20px auto';\n    \n      // Append the spinner to the content node initially\n      content.node.appendChild(spinner);\n    \n      // Function to fetch URLs from API and display them\n      const fetchAndDisplayUrls = async () => {\n        try {\n          // Remove the existing spinner if it's already in the DOM\n          if (content.node.contains(spinner)) {\n            content.node.removeChild(spinner);\n          }\n    \n          // Show the spinner while loading data\n          content.node.appendChild(spinner);\n    \n          // Replace the existing dataset list (if any)\n          const existingUrlListContainer = content.node.querySelector('.url-list-container');\n          if (existingUrlListContainer) {\n            content.node.removeChild(existingUrlListContainer);\n          }\n\n          // Replace with your actual API endpoint\n          const response = await fetch('http://10.176.203.169:32444/fetch_dkan');\n          \n          // Ensure response is valid and parse the JSON\n          if (response.ok) {\n            const apiresponse = await response.json();\n    \n            const titles = apiresponse['titles']; // Assuming this is an array of dataset titles\n            const urls = apiresponse['urls'];    // Assuming this is an array of corresponding URLs\n    \n            // Check if the data is arrays and have the same length\n            if (Array.isArray(titles) && Array.isArray(urls) && titles.length === urls.length) {\n              // Remove the spinner\n              content.node.removeChild(spinner);\n    \n              const urlListContainer = document.createElement('div');\n              urlListContainer.classList.add('url-list-container'); // Add class for easy identification\n    \n              // Loop through each title and create a div for each title\n              titles.forEach((title, index) => {\n                const titleItem = document.createElement('div');\n                titleItem.textContent = title;\n                titleItem.style.marginBottom = '8px';  // Add space between items\n                titleItem.style.fontSize = '16px';     // Customize font size\n                titleItem.style.color = 'black';     // Set color for the titles\n                titleItem.style.cursor = 'pointer';   // Make it look clickable\n                titleItem.style.paddingLeft = '20px';  // Add padding to the left\n                titleItem.style.position = 'relative'; // To position the 3 dots\n    \n                // Create the three vertical dots on the right\n                const threeDots = document.createElement('span');\n                threeDots.textContent = '⋮';\n                threeDots.style.position = 'absolute';\n                threeDots.style.right = '10px';\n                threeDots.style.cursor = 'pointer';\n                \n                // Context menu to copy URL\n                threeDots.onclick = async () => {\n                  try {\n                    // Copy the corresponding URL to the clipboard\n                    const urlToCopy = urls[index];  // Get the URL corresponding to the clicked title\n                    await navigator.clipboard.writeText(urlToCopy);\n                    \n                    // Show success message\n                    const message = document.createElement('div');\n                    message.textContent = `URL copied to clipboard: ${urlToCopy}`;\n                    message.style.color = 'green';\n                    message.style.fontSize = '14px';\n                    message.style.marginTop = '5px';\n                    titleItem.appendChild(message);\n                    \n                    // Optionally, remove the message after a few seconds\n                    setTimeout(() => {\n                      titleItem.removeChild(message);\n                    }, 3000);\n                  } catch (err) {\n                    console.error('Failed to copy the URL:', err);\n                  }\n                };\n    \n                // On click, copy the corresponding URL to clipboard and show a success message\n                titleItem.onclick = async () => {\n                  try {\n                    // Copy the corresponding URL to the clipboard\n                    const urlToCopy = urls[index];  // Get the URL corresponding to the clicked title\n                    await navigator.clipboard.writeText(urlToCopy);\n                    \n                    // Show success message\n                    const message = document.createElement('div');\n                    message.textContent = `URL copied to clipboard: ${urlToCopy}`;\n                    message.style.color = 'green';\n                    message.style.fontSize = '14px';\n                    message.style.marginTop = '5px';\n                    titleItem.appendChild(message);\n                    \n                    // Optionally, remove the message after a few seconds\n                    setTimeout(() => {\n                      titleItem.removeChild(message);\n                    }, 3000);\n                  } catch (err) {\n                    console.error('Failed to copy the URL:', err);\n                  }\n                };\n    \n                // Append the 3 dots and title item to the container\n                titleItem.appendChild(threeDots);\n                urlListContainer.appendChild(titleItem);\n              });\n    \n              // Add the URL list to the content node\n              content.node.appendChild(urlListContainer);\n            }\n          } else {\n            console.error('Failed to fetch URLs');\n            // Remove the spinner\n            content.node.removeChild(spinner);\n          }\n        } catch (error) {\n          console.error('Error fetching data:', error);\n          // Remove the spinner\n          content.node.removeChild(spinner);\n        }\n      };\n    \n      // Initial call to fetch and display URLs\n      fetchAndDisplayUrls();\n    \n      // Reload data when the reload button is clicked\n      reloadButton.onclick = () => {\n        fetchAndDisplayUrls(); // Reload the dataset\n      };\n    \n      return widget;\n    };\n    \n  \n\n    // Add some basic CSS for the spinner (you can add this to your stylesheets or a style tag)\n    const style = document.createElement('style');\n    style.innerHTML = `\n      @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n    `;\n    document.head.appendChild(style);\n\n    let widget = newWidget();\n    app.shell.add(widget, 'left');\n\n    // Add an application command\n    const command: string = 'apod:open';\n    app.commands.addCommand(command, {\n      label: 'Fetch Catalog Datasets',\n      execute: () => {\n        // Regenerate the widget if disposed\n        if (widget.isDisposed) {\n          widget = newWidget();\n        }\n        if (!widget.isAttached) {\n          // Attach the widget to the main work area if it's not there\n          app.shell.add(widget, 'left');\n        }\n        // Activate the widget\n        app.shell.activateById(widget.id);\n      }\n    });\n\n    // Add the command to the palette.\n    palette.addItem({ command, category: 'Tutorial' });\n  }\n};\n\nexport default plugin;\n"],"names":[],"sourceRoot":""}